
---
연습사이트
https://sqltest.net/

sql script 


CREATE TABLE mysql_test_a ( 
    id INT(6) UNSIGNED AUTO_INCREMENT PRIMARY KEY, 
    firstname VARCHAR(30) NOT NULL, 
    lastname VARCHAR(30) NOT NULL,  
    email VARCHAR(50), 
    reg_date TIMESTAMP,
    salary INT
); 

INSERT INTO `mysql_test_a` (`id`, `firstname`, `lastname`, `email`, `reg_date`, `salary`) VALUES ('1', 'John', 'Doe', 'john.doe@sqltest.net', CURRENT_TIMESTAMP, '100'); 
INSERT INTO `mysql_test_a` (`id`, `firstname`, `lastname`, `email`, `reg_date`, `salary`) VALUES ('2', 'Peter', 'second', 'john.doe@sqltest.net', CURRENT_TIMESTAMP, '130'); 
INSERT INTO `mysql_test_a` (`id`, `firstname`, `lastname`, `email`, `reg_date`, `salary`) VALUES ('3', 'Mike', 'third', 'john.doe@sqltest.net', CURRENT_TIMESTAMP, '130'); 
INSERT INTO `mysql_test_a` (`id`, `firstname`, `lastname`, `email`, `reg_date`, `salary`) VALUES ('4', 'John', 'fourth', 'john.doe@sqltest.net', CURRENT_TIMESTAMP, '88'); 
INSERT INTO `mysql_test_a` (`id`, `firstname`, `lastname`, `email`, `reg_date`, `salary`) VALUES ('5', 'John', 'fifth', 'john.doe@sqltest.net', CURRENT_TIMESTAMP,'10'); 

---
ORDER BY


select * from mysql_test_a order by salary;

salary 조건으로 order한 후, 그 다음 동일 salary안에서 또 order by 가능.

select * from mysql_test_a order by salary DESC, id DESC;




---
GROUP BY

Q. 카테고리 별로 각 row의 총 갯수 
A. select category, count(*) from netflix group by category 

Q. 카테고리별로 모든 row의 특정 column의 총 합을 보고싶다면?
A. select category, sum(view_cnt) from netflix group by category 

Q. 카테고리별로 모든 row중 max값 뽑고싶다면?
A. select category, max(view_cnt) from netflix group by category 

Q. 카테고리별로 모든 row중 max값 뽑은 이후, 조회수 별로 DESC 정렬하고싶다면?
A. select category, max(view_cnt) from netflix group by category order by max(view_cnt) DESC;

주의! 

그냥 order by view_cnt가 아니라, order by는 select절 끝나고 실행되는 애라, 
새롭게 뽑은 컬럼인 max(view_cnt)를 설정해 줘야 알아먹는다.

